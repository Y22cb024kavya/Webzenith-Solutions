{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/rbac-system/apps/web/components/auth/can.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { usePermissions } from \"./permission-provider\";\r\n\r\nexport function Can({ \r\n  perform, \r\n  children,\r\n  fallback = null // Optional: Show \"Access Denied\" text instead of null\r\n}: { \r\n  perform: string; \r\n  children: React.ReactNode;\r\n  fallback?: React.ReactNode;\r\n}) {\r\n  const { permissions } = usePermissions();\r\n\r\n  // The Magic Check\r\n  if (!permissions.includes(perform)) {\r\n    return <>{fallback}</>;\r\n  }\r\n\r\n  return <>{children}</>;\r\n}"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAIO,SAAS,IAAI,EAClB,OAAO,EACP,QAAQ,EACR,WAAW,KAAK,sDAAsD;AAAvD,EAKhB;;IACC,MAAM,EAAE,WAAW,EAAE,GAAG,IAAA,iLAAc;IAEtC,kBAAkB;IAClB,IAAI,CAAC,YAAY,QAAQ,CAAC,UAAU;QAClC,qBAAO;sBAAG;;IACZ;IAEA,qBAAO;kBAAG;;AACZ;GAjBgB;;QASU,iLAAc;;;KATxB","debugId":null}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///D:/rbac-system/apps/web/app/dashboard/actions.ts"],"sourcesContent":["'use server'\r\n\r\nimport { createClient } from \"@/utils/supabase/server\";\r\nimport { getUserPermissions } from \"@/utils/permissions\";\r\nimport { revalidatePath } from \"next/cache\";\r\n\r\n// --- 1. CREATE ---\r\nexport async function createLead(formData: FormData) {\r\n  const permissions = await getUserPermissions();\r\n  if (!permissions.includes('leads.create')) {\r\n    return { success: false, error: \"Access Denied: Missing 'leads.create' permission\" };\r\n  }\r\n\r\n  const supabase = await createClient();\r\n  const companyName = formData.get('companyName') as string;\r\n  const value = formData.get('value') as string;\r\n\r\n  await supabase.from('leads').insert({ \r\n    company_name: companyName, \r\n    value: parseInt(value),\r\n    status: 'New'\r\n  });\r\n\r\n  revalidatePath('/dashboard');\r\n  return { success: true };\r\n}\r\n\r\n// --- 2. UPDATE ---\r\nexport async function updateLeadStatus(leadId: string, newStatus: string) {\r\n  const permissions = await getUserPermissions();\r\n  if (!permissions.includes('leads.update')) {\r\n    return { success: false, error: \"Access Denied: Missing 'leads.update' permission\" };\r\n  }\r\n\r\n  const supabase = await createClient();\r\n  await supabase.from('leads').update({ status: newStatus }).eq('id', leadId);\r\n\r\n  revalidatePath('/dashboard');\r\n  return { success: true };\r\n}\r\n\r\n// --- 3. DELETE ---\r\nexport async function deleteLead(leadId: string) {\r\n  const permissions = await getUserPermissions();\r\n  // Reusing 'users.delete' for this high-risk action demonstration\r\n  if (!permissions.includes('users.delete')) { \r\n    return { success: false, error: \"Access Denied: Missing 'users.delete' permission\" };\r\n  }\r\n\r\n  const supabase = await createClient();\r\n  await supabase.from('leads').delete().eq('id', leadId);\r\n\r\n  revalidatePath('/dashboard');\r\n  return { success: true };\r\n}"],"names":[],"mappings":";;;;;;;IAOsB,aAAA,WAAA,GAAA,IAAA,iXAAA,EAAA,8CAAA,sWAAA,EAAA,KAAA,GAAA,4WAAA,EAAA","debugId":null}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///D:/rbac-system/apps/web/app/dashboard/actions.ts"],"sourcesContent":["'use server'\r\n\r\nimport { createClient } from \"@/utils/supabase/server\";\r\nimport { getUserPermissions } from \"@/utils/permissions\";\r\nimport { revalidatePath } from \"next/cache\";\r\n\r\n// --- 1. CREATE ---\r\nexport async function createLead(formData: FormData) {\r\n  const permissions = await getUserPermissions();\r\n  if (!permissions.includes('leads.create')) {\r\n    return { success: false, error: \"Access Denied: Missing 'leads.create' permission\" };\r\n  }\r\n\r\n  const supabase = await createClient();\r\n  const companyName = formData.get('companyName') as string;\r\n  const value = formData.get('value') as string;\r\n\r\n  await supabase.from('leads').insert({ \r\n    company_name: companyName, \r\n    value: parseInt(value),\r\n    status: 'New'\r\n  });\r\n\r\n  revalidatePath('/dashboard');\r\n  return { success: true };\r\n}\r\n\r\n// --- 2. UPDATE ---\r\nexport async function updateLeadStatus(leadId: string, newStatus: string) {\r\n  const permissions = await getUserPermissions();\r\n  if (!permissions.includes('leads.update')) {\r\n    return { success: false, error: \"Access Denied: Missing 'leads.update' permission\" };\r\n  }\r\n\r\n  const supabase = await createClient();\r\n  await supabase.from('leads').update({ status: newStatus }).eq('id', leadId);\r\n\r\n  revalidatePath('/dashboard');\r\n  return { success: true };\r\n}\r\n\r\n// --- 3. DELETE ---\r\nexport async function deleteLead(leadId: string) {\r\n  const permissions = await getUserPermissions();\r\n  // Reusing 'users.delete' for this high-risk action demonstration\r\n  if (!permissions.includes('users.delete')) { \r\n    return { success: false, error: \"Access Denied: Missing 'users.delete' permission\" };\r\n  }\r\n\r\n  const supabase = await createClient();\r\n  await supabase.from('leads').delete().eq('id', leadId);\r\n\r\n  revalidatePath('/dashboard');\r\n  return { success: true };\r\n}"],"names":[],"mappings":";;;;;;;IA4BsB,mBAAA,WAAA,GAAA,IAAA,iXAAA,EAAA,8CAAA,sWAAA,EAAA,KAAA,GAAA,4WAAA,EAAA","debugId":null}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file:///D:/rbac-system/apps/web/app/dashboard/actions.ts"],"sourcesContent":["'use server'\r\n\r\nimport { createClient } from \"@/utils/supabase/server\";\r\nimport { getUserPermissions } from \"@/utils/permissions\";\r\nimport { revalidatePath } from \"next/cache\";\r\n\r\n// --- 1. CREATE ---\r\nexport async function createLead(formData: FormData) {\r\n  const permissions = await getUserPermissions();\r\n  if (!permissions.includes('leads.create')) {\r\n    return { success: false, error: \"Access Denied: Missing 'leads.create' permission\" };\r\n  }\r\n\r\n  const supabase = await createClient();\r\n  const companyName = formData.get('companyName') as string;\r\n  const value = formData.get('value') as string;\r\n\r\n  await supabase.from('leads').insert({ \r\n    company_name: companyName, \r\n    value: parseInt(value),\r\n    status: 'New'\r\n  });\r\n\r\n  revalidatePath('/dashboard');\r\n  return { success: true };\r\n}\r\n\r\n// --- 2. UPDATE ---\r\nexport async function updateLeadStatus(leadId: string, newStatus: string) {\r\n  const permissions = await getUserPermissions();\r\n  if (!permissions.includes('leads.update')) {\r\n    return { success: false, error: \"Access Denied: Missing 'leads.update' permission\" };\r\n  }\r\n\r\n  const supabase = await createClient();\r\n  await supabase.from('leads').update({ status: newStatus }).eq('id', leadId);\r\n\r\n  revalidatePath('/dashboard');\r\n  return { success: true };\r\n}\r\n\r\n// --- 3. DELETE ---\r\nexport async function deleteLead(leadId: string) {\r\n  const permissions = await getUserPermissions();\r\n  // Reusing 'users.delete' for this high-risk action demonstration\r\n  if (!permissions.includes('users.delete')) { \r\n    return { success: false, error: \"Access Denied: Missing 'users.delete' permission\" };\r\n  }\r\n\r\n  const supabase = await createClient();\r\n  await supabase.from('leads').delete().eq('id', leadId);\r\n\r\n  revalidatePath('/dashboard');\r\n  return { success: true };\r\n}"],"names":[],"mappings":";;;;;;;IA0CsB,aAAA,WAAA,GAAA,IAAA,iXAAA,EAAA,8CAAA,sWAAA,EAAA,KAAA,GAAA,4WAAA,EAAA","debugId":null}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file:///D:/rbac-system/apps/web/components/delete-button.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { deleteDatabaseAction } from \"@/app/dashboard/actions\";\r\nimport { useState } from \"react\";\r\n\r\nexport function DeleteButton() {\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const handleClick = async () => {\r\n    const result = await deleteDatabaseAction();\r\n    setMessage(result.message);\r\n    \r\n    if (result.success) {\r\n      alert(\"BOOM! Database deleted.\");\r\n    } else {\r\n      alert(\"STOP! You are not allowed to do that.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button \r\n        onClick={handleClick}\r\n        className=\"bg-red-600 text-white px-4 py-2 rounded shadow hover:bg-red-700 font-medium transition-colors\"\r\n      >\r\n        ⚠️ Delete Entire Database\r\n      </button>\r\n      {message && <p className=\"mt-2 text-sm font-bold\">{message}</p>}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKO,SAAS;;IACd,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wSAAQ,EAAC;IAEvC,MAAM,cAAc;QAClB,MAAM,SAAS,MAAM,IAAA,qKAAoB;QACzC,WAAW,OAAO,OAAO;QAEzB,IAAI,OAAO,OAAO,EAAE;YAClB,MAAM;QACR,OAAO;YACL,MAAM;QACR;IACF;IAEA,qBACE,4TAAC;;0BACC,4TAAC;gBACC,SAAS;gBACT,WAAU;0BACX;;;;;;YAGA,yBAAW,4TAAC;gBAAE,WAAU;0BAA0B;;;;;;;;;;;;AAGzD;GAzBgB;KAAA","debugId":null}},
    {"offset": {"line": 177, "column": 0}, "map": {"version":3,"sources":["file:///D:/rbac-system/node_modules/.pnpm/next%4016.0.1_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-client-wrapper.ts"],"sourcesContent":["// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\nexport { callServer } from 'next/dist/client/app-call-server'\nexport { findSourceMapURL } from 'next/dist/client/app-find-source-map-url'\n\n// A noop wrapper to let the Flight client create the server reference.\n// See also: https://github.com/facebook/react/pull/26632\n// eslint-disable-next-line import/no-extraneous-dependencies\nexport { createServerReference } from 'react-server-dom-webpack/client'\n"],"names":["callServer","createServerReference","findSourceMapURL"],"mappings":"AAAA,gFAAgF;AAChF,0BAA0B;;;;;;;;;;;;;;;;IAEjBA,UAAU,EAAA;eAAVA,eAAAA,UAAU;;IAMVC,qBAAqB,EAAA;eAArBA,QAAAA,qBAAqB;;IALrBC,gBAAgB,EAAA;eAAhBA,qBAAAA,gBAAgB;;;+BADE;qCACM;wBAKK","ignoreList":[0],"debugId":null}}]
}